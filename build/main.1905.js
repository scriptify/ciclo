/*! filename:main */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUwIDUwIiBoZWlnaHQ9IjUwcHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MCA1MCIgd2lkdGg9IjUwcHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNTAiIHdpZHRoPSI1MCIvPjxwYXRoIGQ9Ik0xMCwzM0gzICBjLTEuMTAzLDAtMi0wLjg5OC0yLTJWMTljMC0xLjEwMiwwLjg5Ny0yLDItMmg3IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyLjA4Ii8+PHBhdGggZD0iTTkuNjA0LDMyLjQzICBDOS4yNTYsMzIuMTI5LDksMzEuMzkxLDksMzAuNzU0VjE5LjI0N2MwLTAuNjM3LDAuMjU2LTEuMzg4LDAuNjA0LTEuNjg5TDIyLjI3NCw0LjkyNkMyMy45MDUsMy4yNywyNiwzLjg5OCwyNiw2LjMyN3YzNi45ODggIGMwLDIuNjE0LTEuODk2LDMuNjA0LTMuNzg1LDEuNjg2TDkuNjA0LDMyLjQzeiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMS45Nzk3Ii8+PHBhdGggZD0iICBNMzAuNjg4LDE5LjQxN0MzMy4xNjcsMjAuMDY0LDM1LDIyLjMyLDM1LDI1cy0xLjgzMyw0LjkzNi00LjMxMiw1LjU4NCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iICBNMzQuOTIsMTMuMTQyQzM5LjEzNiwxNS40MTcsNDIsMTkuODczLDQyLDI1YzAsNS4xMTEtMi44NSw5LjU1Ny03LjA0NSwxMS44MzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9IiAgTTM4LjQ5OCw3LjgyYzYuMjc2LDMuMTY3LDEwLjU3OSw5LjY2OCwxMC41NzksMTcuMThjMCw3LjUxMi00LjMwMywxNC4wMTQtMTAuNTc5LDE3LjE4IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4="},211:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48Zz48cGF0aCBkPSJNNDAwLDExMy4zaC04MHYtMjBjMC0xNi4yLTEzLjEtMjkuMy0yOS4zLTI5LjNoLTY5LjVDMjA1LjEsNjQsMTkyLDc3LjEsMTkyLDkzLjN2MjBoLTgwVjEyOGgyMS4xbDIzLjYsMjkwLjcgICBjMCwxNi4yLDEzLjEsMjkuMywyOS4zLDI5LjNoMTQxYzE2LjIsMCwyOS4zLTEzLjEsMjkuMy0yOS4zTDM3OS42LDEyOEg0MDBWMTEzLjN6IE0yMDYuNiw5My4zYzAtOC4xLDYuNi0xNC43LDE0LjYtMTQuN2g2OS41ICAgYzguMSwwLDE0LjYsNi42LDE0LjYsMTQuN3YyMGgtOTguN1Y5My4zeiBNMzQxLjYsNDE3LjlsMCwwLjR2MC40YzAsOC4xLTYuNiwxNC43LTE0LjYsMTQuN0gxODZjLTguMSwwLTE0LjYtNi42LTE0LjYtMTQuN3YtMC40ICAgbDAtMC40TDE0Ny43LDEyOGgyMTcuMkwzNDEuNiw0MTcuOXoiLz48Zz48cmVjdCBoZWlnaHQ9IjI0MSIgd2lkdGg9IjE0IiB4PSIyNDkiIHk9IjE2MCIvPjxwb2x5Z29uIHBvaW50cz0iMzIwLDE2MCAzMDUuNCwxNjAgMjk0LjcsNDAxIDMwOS4zLDQwMSAgICIvPjxwb2x5Z29uIHBvaW50cz0iMjA2LjUsMTYwIDE5MiwxNjAgMjAyLjcsNDAxIDIxNy4zLDQwMSAgICIvPjwvZz48L2c+PC9zdmc+"},212:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTAgMGg0OHY0OGgtNDh6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE0IDM2aDR2LTI0aC00djI0em04IDhoNHYtNDBoLTR2NDB6bS0xNi0xNmg0di04aC00djh6bTI0IDhoNHYtMjRoLTR2MjR6bTgtMTZ2OGg0di04aC00eiIvPjwvc3ZnPg=="},216:function(e,t,n){n(217),e.exports=n(508)},497:function(e,t,n){e.exports={barContainer:"_26y5f_m_7vF46f_RiuY6eL",recordBtn:"_3-Bppz3qzCOfuDBQP_ckY",addGroupBtn:"_35wjygwf4YkeplZKKztPt4",toSpeakersBtn:"_1KKTqDl3Lb2ViU0ex77wJO",isRecording:"_20G7QAVf6kK_8EO-QWg8_1",recordingAnim:"moS7aVGYqwFdLrL76hVh-",measure:"_1sxGGus3oWLwIZa3-fFgbT"}},498:function(e,t,n){e.exports={groupsContainer:"CdUKbgcvjQIN8EMMHrGYO"}},499:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUwIDUwIiBoZWlnaHQ9IjUwcHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MCA1MCIgd2lkdGg9IjUwcHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIgeDE9IjMyIiB4Mj0iNDIiIHkxPSIyMCIgeTI9IjMwIi8+PGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIyIiB4MT0iNDIiIHgyPSIzMiIgeTE9IjIwIiB5Mj0iMzAiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB3aWR0aD0iNTAiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB3aWR0aD0iNTAiLz48cGF0aCBkPSJNMTAsMzNIMyAgYy0xLjEwMywwLTItMC44OTgtMi0yVjE5YzAtMS4xMDIsMC44OTctMiwyLTJoNyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMi4wOCIvPjxwYXRoIGQ9Ik05LjYwNCwzMi40MyAgQzkuMjU2LDMyLjEyOSw5LDMxLjM5MSw5LDMwLjc1NFYxOS4yNDdjMC0wLjYzNywwLjI1Ni0xLjM4OCwwLjYwNC0xLjY4OUwyMi4yNzQsNC45MjZDMjMuOTA1LDMuMjcsMjYsMy44OTgsMjYsNi4zMjd2MzYuOTg4ICBjMCwyLjYxNC0xLjg5NiwzLjYwNC0zLjc4NSwxLjY4Nkw5LjYwNCwzMi40M3oiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEuOTc5NyIvPjwvc3ZnPg=="},500:function(e,t,n){e.exports={groupContainer:"_2W_LTTZGs6G4K4sh05FEre",groupHeader:"_3oJNqyiYN1zLBogUdexVjw",nameRow:"_2EfOYLy4DYaZmeUSnSy06W",groupName:"_2orBbr8vtbrA_nqi2JHaww",deleteGroupBtn:"_21fTCZKnPLC8QRCrjuXUAl",groupActions:"iyvoqgbVf6JojCZFkOU1",groupAction:"_15sg8_khHMDp91YB29snn7",isSelected:"_3PjFFe_FCZTUIEmonvsgdK"}},501:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNMjguNTE2LDE0TDYsMi43NUM1LjM0NCwyLjQ1Myw0LjY3MiwyLDQsMkMyLjkyMiwyLDIsMi45MDYsMiw0djI0YzAsMS4wOTQsMC45MjIsMiwyLDJjMC42NzIsMCwxLjM0NC0wLjQ1MywyLTAuNzUgIEwyOC41MTYsMThDMjkuMDYzLDE3LjczNCwzMCwxNy4xODgsMzAsMTZTMjkuMDYzLDE0LjI2NiwyOC41MTYsMTR6IE02LDI0Ljc3OFY3LjIyMkwyMy41NjgsMTZMNiwyNC43Nzh6Ii8+PC9zdmc+"},502:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgYmFzZVByb2ZpbGU9InRpbnkiIGhlaWdodD0iMjRweCIgaWQ9IkxheWVyXzEiIHZlcnNpb249IjEuMiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGc+PGc+PHBhdGggZD0iTTgsMjBjLTEuNjU0LDAtMy0xLjM0Ni0zLTNWOGMwLTEuNjU0LDEuMzQ2LTMsMy0zczMsMS4zNDYsMywzdjlDMTEsMTguNjU0LDkuNjU0LDIwLDgsMjB6IE04LDdDNy40NDgsNyw3LDcuNDQ5LDcsOHY5ICAgIGMwLDAuNTUxLDAuNDQ4LDEsMSwxczEtMC40NDksMS0xVjhDOSw3LjQ0OSw4LjU1Miw3LDgsN3oiLz48L2c+PC9nPjxnPjxnPjxwYXRoIGQ9Ik0xNSwyMGMtMS42NTQsMC0zLTEuMzQ2LTMtM1Y4YzAtMS42NTQsMS4zNDYtMywzLTNzMywxLjM0NiwzLDN2OUMxOCwxOC42NTQsMTYuNjU0LDIwLDE1LDIweiBNMTUsN2MtMC41NTIsMC0xLDAuNDQ5LTEsMSAgICB2OWMwLDAuNTUxLDAuNDQ4LDEsMSwxczEtMC40NDksMS0xVjhDMTYsNy40NDksMTUuNTUyLDcsMTUsN3oiLz48L2c+PC9nPjwvc3ZnPg=="},503:function(e,t,n){e.exports={phraseContainer:"_1c588qmg-Q-zLywyfhZcoa",togglePlayback:"_1zpLXQrksLYGBSpEET8OM4",phraseName:"_2z1heM8Z3gPI6fzULtG7JO",phraseActions:"_1vChFsYY22PoI59kuGh755",phraseAction:"_1HNS3AHZ2TmLG_SMQ0Z2mX",isMuted:"_9Og8mPgm2Oe7jwclAULWl"}},504:function(e,t,n){e.exports={app:"_3ew6NQuWmvlsVaZNn1ZqyC",contentBar:"_3y2d0GraHtKPmVl2XhjTl4",topBar:"_1ZKscxPFsNjgwoH3TbO9Ou",bottomBar:"cU7EBefiTqUfLFx7HkkiZ",scrollContainer:"_3XL3kOccv8nbAL43R8PykJ",sidePanel:"_3bbUoAdkobQNjT8TqDaO1g"}},505:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANDSURBVHhe7dzHaxRhHMbxqOBBvdqPYr/YsNzFLiIqoiJiQQR79+BFREVERERExd696d/gH2AvV7tYL/b6/YV94WV43012M7M7zjwf+BISkuzsPCS7S5i0iIiIiIiIiIiIiIiIiIiIiIiIiEi6elTe5l33yttCG0WvaHbre/nVk27T7tb3CsrGeE9/6TvNoTyyMe6QHadVyFHsx99+MtydzOsoNsZd8o/Tmk+FM4tsBP+O/qC5lAc2xj3yj8+6Tl2okEKj/KR51Ew2xn3yj8u6RoUdw5lJyVF+UbNG6UWhMa5S4cdwYqM0+nd1bIwrVJoxnBkUGmUBNYKN8YD827cuU+nGcKZTaJSFlKXepDEiYqMsoizExrhEpR/DmUahURZTmmyMh+TfjnWRNEbCVAqNsoTS0Ic0Ro1slG/kn7A0RrExHpH/fa0LpDHaMIVCoyylevSl0BjnSWO0k43ylfwT+JuWUS1iY5wjjVGj0Ch/aDm1h43xmPyvt86SxqjTZAqNsoKq6UcaIyM2yhfyT6yNspJCYmOcIY2Rktgoq8hnYzwh//Os06QxUjaJqo3SnzRGg9kon8k/4TbKToqN0ZkkQ6FRQp0ijdEgE6naKBqjCez1SGiMW9SJpIEG0FMKDWKPKatJGsTGeEahMVw2yhqSjA2k0Bg36FPiYzbKWpKMxMY4SfaYMYFCo6wjSZmN8Zz8k22dIP8BfDxplIwNotAYxyn0bCo2ynqSDoqNcYyqPbUdR6FRNpDUycZ4Qf5JtY5Se15njCWNkpLB1JExnNAolkapQWyMI1TLGM4YCo2ykaQNNsZLSp68w1TPGI6N8pGS33cTScQQCo1xiDoyhhMbZTNJgo2RvMLKSmsMZzSFRtlCUjGUQmMcpCzYKB8oeXsaBbExDlCWYqNspdKyMV5T8qRkPYZjVwWHRtlGpTOMQmPsp0byL9X2K9UosTH2UTPERtlOhWdjvKHknd9LzTSS3lHyuHZQYQ2n0Bh7KA9KNUo3Cr3oy9u/rRhBoVGafR19JuySZ7vOw93JXZRHNspbcsd5k7pSIblR8jqG40Yp9BiOPZb8D+zvMYUfQ0RERERERERERERERERERERERETKq6XlH7tW5T8tEXrtAAAAAElFTkSuQmCC"},506:function(e,t,n){e.exports={effectEditorHeader:"_3921ZCNPN2b8TH9cyybRdT"}},507:function(e,t,n){},508:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(54),o=n.n(a),u=n(53),c=n(214),s=n.n(c),l=n(215),f=n.n(l),d=(n(24),n(22),n(14),n(51),n(35)),h=(n(69),n(68),n(10),n(126),n(50),n(21),n(80),n(132),n(29),n(82),n(40),n(6)),p=n(149),m=n.n(p),g=(n(122),n(41),n(150));n(72),n(90),n(110);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}var t,n,r;return t=e,(n=[{key:"addEventListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){throw new Error("Parameter ".concat(e," is required"))}("callbackFn");return this.events[e]?this.events[e].push(t):this.events[e]=[t],this.removeEventListener.bind(this,e,t)}},{key:"removeAll",value:function(){this.events={}}},{key:"removeEventListener",value:function(e,t){this.events[e]=this.events[e].filter(function(e){return e!==t})}},{key:"emit",value:function(e,t){this.events[e]&&this.events[e].forEach(function(e){return e(t)})}}])&&v(t.prototype,n),r&&v(t,r),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n,r=e.bpm,i=e.measure,a=void 0===i?4:i,o=e.audioCtx;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=M(this,E(t).call(this))).measureLength=void 0,n.loop=-1,n.startedAt=0,n.audioCtx=void 0,n.audioCtx=o,n.measureLength=a/(r/60),n.setup(),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,y),n=t,(r=[{key:"setup",value:function(){var e=this;this.startedAt=this.audioCtx.currentTime;var t=0;this.loop=window.setInterval(function(){var n=(e.audioCtx.currentTime-e.startedAt)%e.measureLength/e.measureLength;e.emit("progress",n);var r=Math.floor((e.audioCtx.currentTime-e.startedAt)/e.measureLength);r>t&&(t=r,e.emit("measurestart"))},1e3/60)}},{key:"clear",value:function(){null!==this.loop&&void 0!==this.loop&&clearInterval(this.loop)}}])&&w(n.prototype,r),i&&w(n,i),t}();n(174);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(e,t,n,r,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){N(a,r,i,o,u,"next",e)}function u(e){N(a,r,i,o,u,"throw",e)}o(void 0)})}}function D(e,t){return new Promise(function(n){var r=new Blob(t,{type:"audio/ogg; codecs=opus"}),i=new FileReader;i.addEventListener("loadend",L(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.result){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.decodeAudioData(i.result);case 4:r=t.sent,n(r);case 6:case"end":return t.stop()}},t,this)}))),i.readAsArrayBuffer(r)})}function S(e){for(var t=0;t<e.numberOfChannels;t+=1)for(var n=e.getChannelData(t),r=0;r<100&&r<n.length;r+=1){var i=n.length-r-1;n[r]=n[r]*r/100,n[i]=n[i]*r/100}}var k=.05;function x(e,t){return r=k,((i=j("".concat(n=t/e).split("."),2)[1])?parseFloat("0.".concat(i))>=r?Math.ceil(n):Math.floor(n):n)*e/t;var n,r,i}function T(e){var t=e.audioCtx,n=e.audioBuffer,r=e.newLength,i=e.mode,a=void 0===i?"after":i;if(n.length===r)return n;for(var o=t.createBuffer(n.numberOfChannels,r,n.sampleRate),u="after"===a||r<n.sampleRate?0:r-n.length,c=0;c<o.numberOfChannels;c+=1)o.copyToChannel(n.getChannelData(c),c,u);return o}function z(e){for(var t=e.audioBuffer,n=e.audioCtx,r=e.times,i=n.createBuffer(t.numberOfChannels,t.length*r,t.sampleRate),a=0;a<i.length;a+=t.length)for(var o=0;o<i.numberOfChannels;o+=1)i.copyToChannel(t.getChannelData(o),o,a);return i}function A(e,t,n,r,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){A(a,r,i,o,u,"next",e)}function u(e){A(a,r,i,o,u,"throw",e)}o(void 0)})}}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=[],this.audioCtx=void 0,this.mediaRecorder=void 0,this.audioCtx=t,this.setup()}var t,n,r;return t=e,(n=[{key:"setup",value:function(){var t=O(regeneratorRuntime.mark(function t(){var n,r,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia(e.CONSTRAINTS);case 2:n=t.sent,(r=new MediaRecorder(n)).ondataavailable=function(e){i.data.push(e.data)},this.mediaRecorder=r;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){var e=this;return new Promise(function(t){e.mediaRecorder.onstop=O(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(e.audioCtx,e.data);case 2:r=n.sent,t(r),e.data=[];case 5:case"end":return n.stop()}},n,this)})),e.mediaRecorder.stop()})}},{key:"start",value:function(){this.mediaRecorder.start()}}])&&R(t.prototype,n),r&&R(t,r),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,n,r,i,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,i)}function B(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){Z(a,r,i,o,u,"next",e)}function u(e){Z(a,r,i,o,u,"throw",e)}o(void 0)})}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}G.CONSTRAINTS={audio:!0,latency:0,echoCancellation:!1,noiseSuppression:!1,volume:1};var V=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Y(this,U(t).call(this))).audioCtx=void 0,n.recorder=void 0,n.measureDuration=0,n.recordingOffset=0,n.bpm=0,n.clock=null,n.audioBuffers=[],n.firstTrackStartedAt=0,n.audioCtx=e,n.recorder=new G(n.audioCtx),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,y),n=t,(r=[{key:"startRecording",value:function(){var e=this;return function(){var t=B(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.emit("recordingstart"),t.next=3,e.recorder.start();case 3:e.recordingOffset=0,console.log(e.currentMeasureOffset);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()()}},{key:"stopRecording",value:function(e){return this.stopRecordingImmediate(e)}},{key:"stopRecordingImmediate",value:function(){var e=B(regeneratorRuntime.mark(function e(){var n,r,i,a,o,u,c,s,l,f,d,h,p,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>0&&void 0!==m[0]?m[0]:{},r=n.numMeasures,i=void 0===r?1:r,e.next=3,this.recorder.stop();case 3:a=e.sent,o=!this.measureDuration,console.time("start rec method"),o&&(this.measureDuration=a.duration*Math.pow(i,-1),this.bpm=60*t.MEASURE/this.measureDuration,this.firstTrackStartedAt=this.audioCtx.currentTime,this.clock=new C({bpm:this.bpm,measure:t.MEASURE,audioCtx:this.audioCtx}),this.emit("timingdataavailable",{bpm:this.bpm,measureDuration:this.measureDuration}),1!==i&&(u=Math.pow(i,-1),a=z({audioBuffer:a,audioCtx:this.audioCtx,times:u}))),S(a),c=this.recordingOffset+a.duration,s=c/a.duration,l=Math.floor(a.length*s),a=o?a:T({audioCtx:this.audioCtx,audioBuffer:a,newLength:l,mode:"before"}),f=x(this.measureDuration,a.duration),a=T({audioCtx:this.audioCtx,audioBuffer:a,newLength:Math.floor(a.length*f)}),(d=this.audioCtx.createBufferSource()).loop=!0,d.buffer=a,this.audioBuffers.push(d),h=this.measureDuration-this.currentMeasureOffset,p=0,this.currentMeasureOffset/this.measureDuration<=k&&(h=0,p=this.currentMeasureOffset),console.log({startAt:h,offset:p}),d.start(this.audioCtx.currentTime+h,p),this.emit("recordingstop",d),console.timeEnd("start rec method");case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getClock",value:function(){return this.clock}},{key:"currentMeasureOffset",get:function(){return(this.audioCtx.currentTime-this.firstTrackStartedAt)%this.measureDuration}}])&&H(n.prototype,r),i&&H(n,i),t}();V.MEASURE=4;n(129),n(121),n(39),n(169),n(156);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e,t){return e.map(function(e){if("function"!=typeof e.set)throw new Error("\n      The specified value for the 'set'-field of the '".concat(e.name,"' - value is not a function!\n    "));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Q(e,t,n[t])})}return e}({},e,{set:e.set.bind(void 0,t)})})},_=function(e,t){var n=e.filter(function(e){return e.name===t})[0];if(!n)throw new Error("Tried to access inexistent value '".concat(t,"'."));return n};function F(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",effectChain:{},values:[]},n=arguments.length>1?arguments[1]:void 0;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=void 0,this.isEffectUnit=!0,this.output=void 0,this.input=void 0,this.audioCtx=void 0,this.effectChain=void 0,this.values=void 0,this.wasInitialized=!1,this.effectGain=void 0,this.directGain=void 0,this.options=void 0,this.state=void 0,!n)throw new Error("The AudioContext specified (3Â° parameter) is not defined!");this.name=name,this.audioCtx=n,this.options=t,this.effectGain=this.audioCtx.createGain(),this.directGain=this.audioCtx.createGain(),this.output=this.audioCtx.createGain(),this.input=this.audioCtx.createGain(),this.input.connect(this.effectGain),this.input.connect(this.directGain),this.directGain.connect(this.output),this.state={isEnabled:!1,values:{}}}var t,n,r;return t=e,r=[{key:"connectNodes",value:function(t,n){n instanceof e?t.connect(n.input):t.connect(n)}}],(n=[{key:"init",value:function(){var e,t,n=this;this.wasInitialized||(this.effectChain=(e=this.options.effectChain,t=Object.assign({},e),Object.keys(t).forEach(function(e){if("function"==typeof t[e]){var n=t[e];t[e]=n()}}),t),this.values=J(this.options.values,this.effectChain),this.values.forEach(function(e){e.options.defaultValue&&(e.set(e.options.defaultValue),n.state.values[e.name]=e.options.defaultValue)}),this.setupEffectChain(),this.wasInitialized=!0)}},{key:"enable",value:function(){this.init(),this.effectGain.gain.value=1,this.directGain.gain.value=0,this.state.isEnabled=!0}},{key:"disable",value:function(){this.effectGain.gain.value=0,this.directGain.gain.value=1,this.state.isEnabled=!1}},{key:"connect",value:function(t){t instanceof e?this.output.connect(t.input):this.output.connect(t)}},{key:"setValue",value:function(e,t){_(this.values,e).set(t),this.state.values[e]=t}},{key:"getValueOptions",value:function(e){return _(this.values,e).options}},{key:"setupEffectChain",value:function(){var t,n,r=(t=this.effectChain,n=[],Object.keys(t).forEach(function(e){n.push(t[e])}),n);if(r.length>=1){e.connectNodes(this.effectGain,r[0]);for(var i=0;i<r.length-1;i+=1)e.connectNodes(r[i],r[i+1]);r[r.length-1].connect(this.output)}}},{key:"disconnect",value:function(){this.output.disconnect()}},{key:"serialize",value:function(){return{name:this.options.name,state:this.state,values:this.options.values.map(function(e){e.set;return F(e,["set"])})}}}])&&X(t.prototype,n),r&&X(t,r),e}();function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={values:[{name:"gain",options:{type:"range",defaultValue:1,min:0,max:1,step:.01},set:function(e,t){e.gain.gain.value=t}},{name:"muted",options:{type:"single",defaultValue:0},set:function(e,t){e.gain.gain.value=t?0:1}}],name:"gain"};function ee(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){K(e,t,n[t])})}return e}({},$,{effectChain:{gain:function(){return e.createGain()}}}),n=new q(t,e);return n.enable(),n}function te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=void 0,this.output=void 0,this.isChnl=!0,this.effects=void 0,this.analyser=void 0,this.context=void 0,this.currentGraph=[],this.context=t,this.input=t.createGain(),this.output=t.createGain(),this.analyser=t.createAnalyser(),this.output.connect(this.analyser),this.effects=function(e){return{gain:ee(e)}}(t),this.setupGraph([this.input,this.effects.gain,this.output])}var t,n,r;return t=e,(n=[{key:"setupGraph",value:function(e){for(var t=0;t<this.currentGraph.length-1;t+=1){this.currentGraph[t].disconnect()}for(var n=0;n<e.length-1;n+=1){var r=e[n],i=e[n+1];i instanceof q?r.connect(i.input):r.connect(i)}this.currentGraph=e}},{key:"addEffect",value:function(e){var t=this,n=this.effects[e];if(!n)throw new Error("You tried to add an inexistent effect.");n.name||(this.effects[e].name=e);var r=[this.input].concat(te(this.currentGraph.filter(function(e){return e!==t.input&&e!==t.output})),[n,this.output]);this.setupGraph(r)}},{key:"removeEffect",value:function(e){this.setupGraph(this.currentGraph.filter(function(t){return t instanceof q&&t.name!==e}))}},{key:"connect",value:function(t){t instanceof q||t instanceof e?this.output.connect(t.input):this.output.connect(t)}},{key:"disconnect",value:function(t){t instanceof q||t instanceof e?this.output.disconnect(t.input):this.output.disconnect(t)}},{key:"getAnalyser",value:function(){return this.analyser}},{key:"getEffect",value:function(e){return this.effects[e]}},{key:"serialize",value:function(){var e=this;return{effects:Object.keys(this.effects).map(function(t){return e.effects[t].serialize()})}}}])&&ne(t.prototype,n),r&&ne(t,r),e}();var ie=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chnl=void 0,this.chnl=new re(t),this.chnl.connect(t.destination)};function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.chnl=void 0,this.buffer=void 0,this.buffer=n,this.chnl=new re(t),this.buffer.connect(this.chnl.input)}var t,n,r;return t=e,(n=[{key:"serialize",value:function(){return{chnl:this.chnl.serialize(),duration:null!==this.buffer.buffer?this.buffer.buffer.duration:0,buffer:this.buffer.buffer}}}])&&ae(t.prototype,n),r&&ae(t,r),e}();function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ce,se,le,fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.masterChnl=void 0,this.masterChnl=new re(t)}var t,n,r;return t=e,(n=[{key:"add",value:function(e){var t=this;return e.connect(this.masterChnl.input),function(){e.disconnect(t.masterChnl.input)}}},{key:"serialize",value:function(){return{masterChnl:this.masterChnl.serialize()}}}])&&ue(t.prototype,n),r&&ue(t,r),e}();function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pe,me,ge,ve,ye,be,we,Me,Ee,Ie,Ce,je=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioLooper=void 0,this.master=void 0,this.audioCtx=void 0,this.state=void 0,this.stateChangedCallbacks=[],this.audioCtx=new AudioContext,this.audioLooper=new V(this.audioCtx),this.master=new ie(this.audioCtx),this.state={isRecording:!1,activeGroup:"",groups:new Map,recordings:new Map,timing:{bpm:0,measureDuration:0}},this.setup()}var t,n,r;return t=e,r=[{key:"getEffectOfChnl",value:function(e,t){var n=e.getEffect(t);if(!n)throw new Error("Effect ".concat(t," does not exist on Chnl."));return n}}],(n=[{key:"setup",value:function(){var e=this;this.audioLooper.addEventListener("recordingstart",function(){e.setIsRecording(!0)}),this.audioLooper.addEventListener("timingdataavailable",function(t){e.setTimingData(t)}),this.audioLooper.addEventListener("recordingstop",function(t){e.setIsRecording(!1);var n=new oe(e.audioCtx,t);e.onNewRecording(n)})}},{key:"onNewRecording",value:function(e){var t,n;if(""===this.state.activeGroup){var r=this.addNewGroup();t=r.newGroup,n=r.newGroupId}else{var i=this.state.groups.get(this.state.activeGroup);if(!i)throw new Error("Tried to add recording to inexistent ChnlGroup!");t=i,n=this.state.activeGroup}var a=Object(g.v4)(),o=t.add(e.chnl);this.addRecording(a,{groupId:n,bufferChnl:e,disconnectFromGroup:o})}},{key:"addNewGroup",value:function(){var e=new fe(this.audioCtx);e.masterChnl.connect(this.master.chnl);var t=Object(g.v4)();return this.setActiveGroup(t),this.addGroupToState(t,e),{newGroup:e,newGroupId:t}}},{key:"onStateChange",value:function(){var e=this.serializeState();this.stateChangedCallbacks.forEach(function(t){return t(e)})}},{key:"getChnlFromNode",value:function(e,t){var n,r=function(){if(!t)throw new Error("Id not specified when setting effect for ".concat(e))};switch(e){case"master":n=this.master.chnl;break;case"group":r();var i=this.state.groups.get(t||"");if(!i)throw new Error("Group ".concat(t," does not exist."));n=i.masterChnl;break;case"recording":r();var a=this.state.recordings.get(t||"");if(!a)throw new Error("Recording ".concat(t," does not exist."));n=a.bufferChnl.chnl;break;default:throw new Error("Invalid node type")}return n}},{key:"requireGroupExists",value:function(e){if(!this.state.groups.has(e))throw new Error("This group does not exist: ".concat(e));return this.state.groups.get(e)}},{key:"requireRecordingExists",value:function(e){if(!this.state.recordings.has(e))throw new Error("This recording does not exist: ".concat(e));return this.state.recordings.get(e)}},{key:"setActiveGroup",value:function(e){this.state.activeGroup=e,this.onStateChange()}},{key:"setIsRecording",value:function(e){this.state.isRecording=e,this.onStateChange()}},{key:"addRecording",value:function(e,t){this.state.recordings.set(e,t),this.onStateChange()}},{key:"addGroupToState",value:function(e,t){this.state.groups.set(e,t),this.onStateChange()}},{key:"setTimingData",value:function(e){this.state.timing=e,this.onStateChange()}},{key:"toggleRecording",value:function(e){var t=e.numMeasures,n=void 0===t?1:t;this.state.isRecording?this.stopRecording({numMeasures:n}):this.startRecording()}},{key:"startRecording",value:function(){this.audioLooper.startRecording()}},{key:"stopRecording",value:function(e){var t=e.numMeasures,n=void 0===t?1:t;this.audioLooper.stopRecording({numMeasures:n})}},{key:"newGroup",value:function(){this.addNewGroup()}},{key:"selectGroup",value:function(e){this.requireGroupExists(e),this.setActiveGroup(e)}},{key:"toggleEffect",value:function(t,n){var r=this.getChnlFromNode(t,n.id),i=e.getEffectOfChnl(r,n.effectName);n.isEnabled||i.serialize().state.isEnabled?i.enable():i.disable(),this.onStateChange()}},{key:"setEffectValue",value:function(t,n){var r=this.getChnlFromNode(t,n.id);e.getEffectOfChnl(r,n.effectName).setValue(n.effectValueName,n.value),this.onStateChange()}},{key:"mute",value:function(e,t){this.setEffectValue(e,{id:t,effectName:"gain",effectValueName:"muted",value:1})}},{key:"unmute",value:function(e,t){this.setEffectValue(e,{id:t,effectName:"gain",effectValueName:"muted",value:0})}},{key:"moveRecordingToGroup",value:function(e,t){var n=this.requireGroupExists(e),r=this.requireRecordingExists(t);r.disconnectFromGroup(),r.disconnectFromGroup=n.add(r.bufferChnl.chnl),r.groupId=e,this.onStateChange()}},{key:"deleteRecording",value:function(e){this.requireRecordingExists(e).disconnectFromGroup(),this.state.recordings.delete(e),this.onStateChange()}},{key:"deleteGroup",value:function(e){var t=this,n=this.requireGroupExists(e);Array.from(this.state.recordings).filter(function(t){return de(t,2)[1].groupId===e}).map(function(e){return de(e,1)[0]}).forEach(function(e){t.deleteRecording(e)}),n.masterChnl.disconnect(this.master.chnl),this.state.groups.delete(e),this.state.activeGroup===e&&this.setActiveGroup(""),this.onStateChange()}},{key:"getMaster",value:function(){return this.master}},{key:"serializeState",value:function(){return{timing:this.state.timing,isRecording:this.state.isRecording,activeGroup:this.state.activeGroup,groups:Array.from(this.state.groups).map(function(e){var t=de(e,2);return{id:t[0],group:t[1].serialize()}}),recordings:Array.from(this.state.recordings).map(function(e){var t=de(e,2),n=t[0],r=t[1];return{id:n,recording:{groupId:r.groupId,bufferChnl:r.bufferChnl.serialize()}}})}}},{key:"stateChange",value:function(e){var t=this;return this.stateChangedCallbacks.push(e),function(){t.stateChangedCallbacks=t.stateChangedCallbacks.filter(function(t){return t!==e})}}},{key:"getClock",value:function(){return this.audioLooper.getClock()}}])&&he(t.prototype,n),r&&he(t,r),e}()),Ne=new(le=function e(){var t,n,r,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loopio=je,t=this,n="loopioState",i=this,(r=se)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0}),this.loopioState=je.serializeState(),je.stateChange(function(e){m.a.observableDiff(Object(h.m)(a.loopioState),je.serializeState(),function(t){m.a.applyChange(a.loopioState,e,t)})})},pe=(ce=le).prototype,me="loopioState",ge=[h.k],ve={configurable:!0,enumerable:!0,writable:!0,initializer:null},be={},Object.keys(ve).forEach(function(e){be[e]=ve[e]}),be.enumerable=!!be.enumerable,be.configurable=!!be.configurable,("value"in be||be.initializer)&&(be.writable=!0),be=ge.slice().reverse().reduce(function(e,t){return t(pe,me,e)||e},be),ye&&void 0!==be.initializer&&(be.value=be.initializer?be.initializer.call(ye):void 0,be.initializer=void 0),void 0===be.initializer&&(Object.defineProperty(pe,me,be),be=null),se=be,ce);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function Re(e,t,n,r,i){var a={};return Object.keys(r).forEach(function(e){a[e]=r[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ge=new(Me=Re((we=function(){function e(){var t=this;ze(this,e),this.clearStateChangeCb=void 0,Te(this,"measureProgress",Me,this),Te(this,"namings",Ee,this),Te(this,"isEffectEditorOpen",Ie,this),Te(this,"effectEditorItems",Ce,this),this.clearStateChangeCb=je.stateChange(function(){var e=je.getClock();e&&(t.clearStateChangeCb(),e.addEventListener("progress",function(e){t.measureProgress=e}))}),je.stateChange(function(e){e.recordings.forEach(function(n){t.namings.has(n.id)||t.namings.set(n.id,"Phrase ".concat(e.recordings.length))}),e.groups.forEach(function(n){t.namings.has(n.id)||t.namings.set(n.id,"Group ".concat(e.groups.length))})})}return Oe(e,[{key:"setNaming",value:function(e,t){this.namings.set(e,t)}},{key:"addToEffectEditor",value:function(e,t){this.isEffectEditorOpen=!0,this.effectEditorItems.find(function(t){return t.id===e})||this.effectEditorItems.push({id:e,type:t})}},{key:"removeFromEffectEditor",value:function(e){this.effectEditorItems=this.effectEditorItems.filter(function(t){return t.id!==e})}},{key:"closeEffectEditor",value:function(){this.isEffectEditorOpen=!1}}]),e}()).prototype,"measureProgress",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ee=Re(we.prototype,"namings",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ie=Re(we.prototype,"isEffectEditorOpen",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Re(we.prototype,"effectEditorItems",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re(we.prototype,"setNaming",[h.d],Object.getOwnPropertyDescriptor(we.prototype,"setNaming"),we.prototype),Re(we.prototype,"addToEffectEditor",[h.d],Object.getOwnPropertyDescriptor(we.prototype,"addToEffectEditor"),we.prototype),Re(we.prototype,"removeFromEffectEditor",[h.d],Object.getOwnPropertyDescriptor(we.prototype,"removeFromEffectEditor"),we.prototype),Re(we.prototype,"closeEffectEditor",[h.d],Object.getOwnPropertyDescriptor(we.prototype,"closeEffectEditor"),we.prototype),we);function Pe(e){return function(t){function n(){return ze(this,n),Se(this,ke(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(n,i.a.Component),Oe(n,[{key:"render",value:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}({},this.props,{loopio:je,loopioState:Ne.loopioState,uiState:Ge});return i.a.createElement(e,t)}}]),n}()}var Ze=n(36),Be=n.n(Ze);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ue(this,We(t).call(this,e))).normalizedRadius=void 0,n.circumference=void 0;var r=n.props,i=r.radius,a=r.stroke;return n.normalizedRadius=i-2*a,n.circumference=2*n.normalizedRadius*Math.PI,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,i.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.radius,n=e.stroke,r=e.progress,a=this.circumference-r/100*this.circumference;return i.a.createElement("svg",{height:2*t,width:2*t,style:{display:"block"}},i.a.createElement("circle",{style:{strokeDashoffset:a,transform:"rotate(-90deg)",transformOrigin:"50% 50%"},stroke:this.props.color,fill:"transparent",strokeWidth:n,strokeDasharray:"".concat(this.circumference," ").concat(this.circumference),r:this.normalizedRadius,cx:t,cy:t}))}}])&&Ye(n.prototype,r),a&&Ye(n,a),t}();var Je=n(210),_e=n(497),Fe=_e.barContainer,Xe=_e.recordBtn,qe=_e.toSpeakersBtn,Ke=_e.measure,$e=_e.addGroupBtn,et=_e.isRecording,tt=function(e){var t,n,r,a=e.currentMeasure,o=e.onMeasureChange,u=e.onRecordingToggle,c=e.onCreateNewGroup,s=e.hideChangeMeasure,l=e.isRecording,f=e.bpm,d=e.measureProgress;return i.a.createElement("div",{className:Fe},i.a.createElement("button",{className:qe},i.a.createElement("img",{src:Je,alt:"Redirect mic input to speakers"})),!s&&i.a.createElement("select",{className:Ke,value:a,onChange:function(e){var t=parseFloat(e.target.value);o(t)}},i.a.createElement("option",{value:1},"1"),i.a.createElement("option",{value:.5},"1/2"),i.a.createElement("option",{value:.25},"1/4"),i.a.createElement("option",{value:1/8},"1/8")),i.a.createElement("button",{className:Be()(Xe,(t={},n=et,r=l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),onClick:u},i.a.createElement(Qe,{progress:d||100,radius:30,stroke:5,color:"rgb(0, 69, 158)"}),0!==f&&i.a.createElement("span",null,f.toFixed()," BPM")),i.a.createElement("button",{className:$e,onClick:c},"+"))};function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rt=Pe(function(e){var t=nt(Object(r.useState)(1),2),n=t[0],a=t[1],o=e.loopioState,u=e.loopio,c=e.uiState;return i.a.createElement(d.a,null,function(){return i.a.createElement(tt,{bpm:o.timing.bpm,measureProgress:Math.round(100*c.measureProgress),currentMeasure:n,hideChangeMeasure:o.recordings.length>0,isRecording:o.isRecording,onCreateNewGroup:function(){return u.newGroup()},onMeasureChange:a,onRecordingToggle:function(){u.toggleRecording({numMeasures:n})}})})}),it=function(e){return!!e.find(function(e){return"gain"===e.name&&1===e.state.values.muted})},at=n(498).groupsContainer,ot=function(e){var t=e.children;return i.a.createElement("div",{className:at},t)};function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ct=n(211),st=n(499),lt=n(210),ft=n(212),dt=n(500),ht=dt.groupContainer,pt=dt.groupHeader,mt=dt.nameRow,gt=dt.groupName,vt=dt.deleteGroupBtn,yt=dt.groupActions,bt=dt.groupAction,wt=dt.phrasesContainer,Mt=dt.isSelected;var Et=Object(u.DropTarget)("phrase",{drop:function(e){return{id:e.id}}},function(e,t){return{connectDropTarget:e.dropTarget(),candDrop:t.canDrop()}})(function(e){var t,n,a,o=e.children,u=e.onDelete,c=e.onEditEffects,s=e.onMute,l=e.onSelect,f=e.name,d=e.isMuted,h=e.isSelected,p=e.connectDropTarget,m=e.onNameChange,g=ut(Object(r.useState)(!1),2),v=g[0],y=g[1];return p(i.a.createElement("div",{className:ht,onClick:l},i.a.createElement("header",{className:Be()(pt,(t={},n=Mt,a=h,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},i.a.createElement("div",{className:mt},v?i.a.createElement("input",{type:"string",className:gt,value:f,onChange:function(e){var t=e.target.value;m(t)},onBlur:function(){y(!1)}}):i.a.createElement("h2",{className:gt,onClick:function(){y(!0)}},f),i.a.createElement("button",{className:vt,onClick:function(e){e.stopPropagation(),u()}},i.a.createElement("img",{src:ct,alt:"Delete group"}))),i.a.createElement("div",{className:yt},i.a.createElement("button",{className:bt,onClick:s},d?i.a.createElement("img",{src:lt,alt:"Unmute group"}):i.a.createElement("img",{src:st,alt:"Mute group"})),i.a.createElement("button",{className:bt,onClick:c},i.a.createElement("img",{src:ft,alt:"Edit group effects"})))),i.a.createElement("div",{className:wt},o)))});function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ct=n(212),jt=n(211),Nt=n(501),Lt=n(502),Dt=function(e){},St=n(503),kt=St.phraseContainer,xt=St.togglePlayback,Tt=St.phraseName,zt=St.phraseActions,At=St.phraseAction,Ot=St.isMuted,Rt={beginDrag:function(e){return{name:e.name}},endDrag:function(e,t){var n=t.getDropResult();if(n&&n.id){var r=n.id;Dt(r)}}};var Gt=Object(u.DragSource)("phrase",Rt,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(function(e){var t,n,a,o=e.onDelete,u=e.onEditEffects,c=e.name,s=e.isMuted,l=e.onMute,f=e.connectDragSource,d=e.onGroupChange,h=e.onNameChange,p=It(Object(r.useState)(!1),2),m=p[0],g=p[1];return Dt=d,f(i.a.createElement("div",{className:kt},i.a.createElement("div",{className:zt},i.a.createElement("button",{className:At,onClick:o},i.a.createElement("img",{src:jt,alt:"Delete phrase"})),i.a.createElement("button",{className:At,onClick:u},i.a.createElement("img",{src:Ct,alt:"Edit effects"}))),i.a.createElement("div",{className:Be()(xt,(t={},n=Ot,a=s,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),onClick:l},s?i.a.createElement("img",{src:Nt,alt:"Start playback"}):i.a.createElement("img",{src:Lt,alt:"Pause playback"})),m?i.a.createElement("input",{type:"string",className:Tt,value:c,onChange:function(e){var t=e.target.value;h(t)},onBlur:function(){g(!1)}}):i.a.createElement("div",{className:Tt,onClick:function(){g(!0)}},c)))}),Pt=Pe(function(e){var t=e.loopioState,n=e.loopio,r=e.uiState;return i.a.createElement(d.a,null,function(){return i.a.createElement(ot,null,t.groups.map(function(e,a){var o=r.namings.get(e.id),u=it(e.group.masterChnl.effects),c=t.recordings.filter(function(t){return t.recording.groupId===e.id});return i.a.createElement(Et,{key:e.id,id:e.id,isSelected:e.id===t.activeGroup,name:o||"",onDelete:function(){return n.deleteGroup(e.id)},isMuted:u,onEditEffects:function(){r.addToEffectEditor(e.id,"group")},onMute:function(){u?n.unmute("group",e.id):n.mute("group",e.id)},onSelect:function(){return n.selectGroup(e.id)},onNameChange:function(t){r.setNaming(e.id,t)}},c.reverse().map(function(e,t){var a=it(e.recording.bufferChnl.chnl.effects),o=r.namings.get(e.id);return i.a.createElement(Gt,{key:e.id,id:e.id,name:o||"",onDelete:function(){return n.deleteRecording(e.id)},onGroupChange:function(t){n.moveRecordingToGroup(t,e.id)},onNameChange:function(t){r.setNaming(e.id,t)},data:e.recording.bufferChnl.buffer,onEditEffects:function(){r.addToEffectEditor(e.id,"recording")},onMute:function(){a?n.unmute("recording",e.id):n.mute("recording",e.id)},isMuted:a})}))}))})}),Zt=n(504),Bt=Zt.contentBar,Ht=(Zt.topBar,Zt.bottomBar),Yt=Zt.scrollContainer,Ut=Zt.sidePanel,Wt=function(e){var t=e.children;return i.a.createElement("div",{className:Yt},t)},Vt=function(e){var t=e.children;return i.a.createElement("div",{className:Be()(Bt,Ht)},t)},Qt=function(e){var t=e.children;return i.a.createElement("div",{className:Ut},t)},Jt=n(505),_t=n(506),Ft=_t.effectEditorContainer,Xt=_t.effectEditorHeader,qt=_t.elementsContainer,Kt=_t.element,$t=_t.effects,en=_t.effect,tn=_t.effectValues,nn=_t.effectValue,rn=function(e){var t=e.currEffect,n=e.onValueChange;return i.a.createElement(d.a,null,function(){return i.a.createElement("div",{className:en},i.a.createElement("h3",null,t.name),i.a.createElement("div",{className:tn},t.values.map(function(e){return i.a.createElement("div",{className:nn,key:e.name},i.a.createElement("h4",null,e.name),"single"===e.options.type&&i.a.createElement("input",{type:"checkbox",onChange:function(){n(0===t.state.values[e.name]?1:0,e.name)},checked:!!t.state.values[e.name]}),"range"===e.options.type&&i.a.createElement("input",{type:"range",value:t.state.values[e.name],step:e.options.step,min:e.options.min,max:e.options.max,onChange:function(t){n(parseFloat(t.target.value),e.name)}}))})))})},an=function(e){var t=e.onClose,n=e.elements,r=e.onValueChange;return i.a.createElement(d.a,null,function(){return i.a.createElement("div",{className:Ft},i.a.createElement("header",{className:Xt},i.a.createElement("button",{onClick:t},i.a.createElement("img",{src:Jt,alt:"Close effect editor"}))),i.a.createElement("div",{className:qt},n.map(function(e){return i.a.createElement("div",{className:Kt,key:e.id},i.a.createElement("h2",null,e.name),i.a.createElement("div",{className:$t},e.effects.filter(function(e){return e.state.isEnabled}).map(function(t){return i.a.createElement(rn,{currEffect:t,key:t.name,onValueChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(n,i){r({valueName:i,newValue:n,effectName:t.name,id:e.id,elementType:e.type})})})})))})))})},on=Pe(function(e){var t=e.loopioState,n=e.loopio,r=e.uiState;return i.a.createElement(d.a,null,function(){if(!r.isEffectEditorOpen)return"";var e=r.effectEditorItems.map(function(e){if("group"===e.type){var n=t.groups.find(function(t){return t.id===e.id});return n?{id:n.id,name:r.namings.get(n.id)||"",type:"group",effects:n.group.masterChnl.effects}:{id:"",name:"",effects:[],type:"group"}}var i=t.recordings.find(function(t){return t.id===e.id});return i?{id:i.id,name:r.namings.get(i.id)||"",effects:i.recording.bufferChnl.chnl.effects,type:"recording"}:{id:"",name:"",type:"recording",effects:[]}}).filter(function(e){return null!==e});return i.a.createElement(Qt,null,i.a.createElement(an,{onClose:function(){return r.closeEffectEditor()},elements:e,onValueChange:function(e){n.setEffectValue(e.elementType,{effectName:e.effectName,effectValueName:e.valueName,value:e.newValue,id:e.id})}}))})}),un=n(507).app,cn=Object(u.DragDropContext)(s()(f.a))(function(e){return i.a.createElement("div",{className:un},i.a.createElement(Wt,null,i.a.createElement(Pt,null)),i.a.createElement(Vt,null,i.a.createElement(rt,null)),i.a.createElement(on,null))});o.a.render(i.a.createElement(cn,null),document.getElementById("app"))}},[[216,1,2]]]);